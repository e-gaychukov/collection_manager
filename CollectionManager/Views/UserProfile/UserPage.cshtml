@model IEnumerable<Collection>

@{
    IdentityUser collectionOwnerData = ViewData["collectionOwnerData"] as IdentityUser;
    
}

@collectionOwnerData.UserName

<privacy allowed-users="@(new IdentityUser[]{ collectionOwnerData })" allowed-roles="@(new string[] {"Admin"})">
    <a asp-action="AddCollection"
       asp-controller="UserProfile">Add</a>
</privacy>



<table>
    @if (Model.Count() != 0)
    {
        @foreach (Collection collection in Model)
        {
            <tr>
                <td>
                    <a asp-action="Index"
                       asp-controller="Collection"
                       asp-route-id="@collection.Id">@collection.Name</a>
                </td>
                <td>
                    @collection.Topic.Name
                </td>
                <privacy allowed-users="@(new IdentityUser[]{ collectionOwnerData })" allowed-roles="@(new string[] {"Admin"})">
                    <td>
                        <a asp-action="DeleteCollection"
                           asp-controller="UserProfile"
                           asp-route-id="@collection.Id">Delete</a>
                        <a asp-action="EditCollection"
                           asp-controller="UserProfile"
                           asp-route-id="@collection.Id">Edit</a>
                    </td>
                </privacy>
                
            </tr>

        }
    }
    else
    {
        @:Тут пока пусто
    }
</table>
